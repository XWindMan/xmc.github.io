---
layout: post
title: 'Android小功能'
author: xmc91
date: 2023-3-17
categories: Android 
tags: Android 
---
> 小功能积累

## 空间不够，滚动来凑	

```
<TextView
    android:id="@+id/device_name"
    android:layout_width="100dp"
    android:layout_height="wrap_content"
    android:ellipsize="marquee"
    android:focusable="true"
    android:focusableInTouchMode="true"
    android:marqueeRepeatLimit="marquee_forever"
    android:maxWidth="100dp"
    android:scrollHorizontally="true"
    android:singleLine="true"
    android:textColor="@color/black"
    android:textSize="18sp"
    android:textStyle="bold" />
最后 setSelected(true)    
```

## log写入本地文件系统	

```
    public static void write(String text) {
        SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss:SSS");
        text = sdf.format(new Date()) + ": " + text + " \n";
        if (Environment.MEDIA_MOUNTED.equals(Environment.getExternalStorageState())) {
            if (Environment.getExternalStorageState().equals(Environment.MEDIA_MOUNTED)) {
                String sdPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + "/";// sd/Download
                File file1 = new File(sdPath + "log.txt");
                if (!file1.exists()) {
                    try {
                        file1.createNewFile();
                    } catch (IOException e) {
                        e.printStackTrace();
                    }
                }
                FileOutputStream fileOutputStream = null;
                try {
                    fileOutputStream = new FileOutputStream(file1,true);
                    fileOutputStream.write(text.getBytes());
                    VTLog.d("write", "" + text);
                } catch (Exception e) {
                    e.printStackTrace();
                } finally {
                    if (fileOutputStream != null) {
                        try {
                            fileOutputStream.close();
                        } catch (IOException e) {
                            e.printStackTrace();
                        }
                    }
                }
            }
        }
    }
    
八大目录可保存。    

```
